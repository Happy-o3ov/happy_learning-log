
# AI 모의면접 시스템 – 프론트엔드 구조 정비 기록

## 개요
본 문서는 AI 모의면접 시스템 프론트엔드 개발 과정에서  
**인증 / 라우팅 / 역할(Role) 분리 구조를 선행 정비한 이유와 설계 판단**을 기록하기 위한 문서이다.

기능 구현보다 먼저,  
프로젝트가 확장되더라도 구조적으로 흔들리지 않도록  
프론트엔드의 큰 흐름을 고정하는 것을 목표로 했다.

---

## 프로젝트 배경
- Frontend: React (Vite)
- Backend: FastAPI

현재 프로젝트에는 인터뷰 결과 화면이 다음 세 가지 형태로 공존한다.

- 면접 종료 직후 모달로 표시되는 결과 화면
- URL 기반 단독 결과 페이지 (`/result/:threadId`)
- React와 분리된 정적 HTML 관리자 페이지

현재는 결과 데이터가 1개뿐이지만,  
결과가 누적되는 시점부터 다음과 같은 문제가 발생할 수 있다고 판단했다.

- 결과 생성 / 조회 시점이 불명확해질 가능성
- 면접자용 결과와 관리자용 결과 UI 혼재
- 관리자 페이지 도입 시 라우팅 및 권한 구조 재설계 필요

---

## 설계 목표
1. **기능 구현 이전에 접근 제어 구조를 확정**
2. 라우팅을 화면 기준이 아닌 **역할(Role) 기준**으로 분리
3. 추후 인증 방식(JWT 등)이 변경되어도 유지 가능한 구조 확보

---

## 라우팅 구조 설계

### 최종 라우트 구조

| Path | 설명 |
|---|---|
| `/login` | 로그인 / 회원가입 UI (현재는 구조 검증용) |
| `/interview` | 면접자 전용 화면 |
| `/result/:threadId` | 결과 단독 조회 페이지 |
| `/admin` | 관리자 전용 페이지 |
| `/` | `/login`으로 리다이렉트 |

### 설계 의도
- 주소 직접 입력 시에도 접근 조건이 강제되도록 설계
- UI가 아닌 **라우트 레벨에서 역할을 분리**
- 관리자 기능 확장을 고려한 `/admin` 경로 선점

---

## 접근 제어(Guard) 설계

### RequireAuth
- 로그인 여부(`auth_token`) 기준 접근 제어
- 비로그인 상태에서 `/interview` 접근 시 `/login`으로 이동

### RequireAdmin
- 관리자 role(role === "admin") 기준 접근 제어
- 관리자가 아닌 경우 /admin 접근 차단

## 4️⃣ 로그인 페이지 섹션도 같은 규칙 적용

지금 있는 내용은 **아주 좋다**.  
다만 제목과 문단만 조금 정리하자.

### 🔧 정리 버전

```md
## 로그인 페이지의 역할 정의

현재 로그인 페이지는 실제 인증을 구현하지 않는다.

대신 다음 흐름을 검증하는 용도로 사용한다.

- 로그인 후 이동 경로 확인
- 사용자 / 관리자 분기 검증
- 로그아웃 후 접근 차단 확인




# AI Interview Simulation (Frontend)

AI 모의 면접 시스템의 **프론트엔드 구조와 인증 흐름을 검증하기 위한 MVP 단계 구현**입니다.  
현재는 실제 인증/권한 API 없이, **라우팅과 역할 분기 구조를 먼저 안정화**하는 데 초점을 두고 있습니다.

---

## 프로젝트 목적

- 면접자 / 관리자 흐름을 명확히 분리
- 인증 로직이 없어도 전체 서비스 구조를 먼저 검증
- 이후 JWT / 서버 인증으로 자연스럽게 확장 가능한 구조 설계

---

## 현재 구현 범위

### 1. 라우팅 구조

| 경로 | 설명 |
|---|---|
| `/login` | 로그인 / 회원가입 UI (인증 미구현) |
| `/interview` | 면접 진행 페이지 (로그인 필요) |
| `/result/:threadId` | 면접 결과 단독 조회 페이지 |
| `/admin` | 관리자 전용 페이지 (관리자 role 필요) |

---

### 2. 인증 가드 구조

#### RequireAuth

- `localStorage`의 `auth_token` 기준 접근 제어
- 비로그인 상태에서 보호된 경로 접근 시 `/login`으로 리다이렉트

```jsx
<RequireAuth>
  <InterviewPage />
</RequireAuth>
```

---

#### RequireAdmin

- `localStorage`의 `role === "admin"` 기준 접근 제어
- 관리자가 아닐 경우 `/login` 또는 접근 차단 처리

```jsx
<RequireAdmin>
  <AdminPage />
</RequireAdmin>
```

> 현재는 localStorage 기반이지만,  
> 이후 JWT / 서버 인증 방식으로 쉽게 교체 가능하도록 설계함.

---

### 3. 로그인 페이지의 역할 정의

현재 로그인 페이지는 **실제 인증을 수행하지 않는다**.  
대신 다음 흐름을 검증하는 용도로 사용한다.

- 로그인 후 이동 경로 검증
- 사용자 / 관리자 역할 분기
- 로그아웃 시 접근 차단 확인

```text
[LoginPage]
 ├─ 로그인 (일반 사용자)
 │    → /interview
 └─ (개발용) 관리자 시작
      → /admin
```

---

### 4. 면접 결과 처리 구조

- 면접 종료 후 결과는 **모달**과 **단독 페이지** 두 가지 방식으로 확인 가능
- 단독 페이지는 URL 기반으로 직접 접근 가능

```text
/result/{thread_id}
```

- 결과 페이지는 프레젠테이션 컴포넌트와
  라우팅/데이터 로딩 컨테이너를 분리하여 구성

```text
ResultRoutePage (라우팅 + 데이터 로딩)
 └─ ResultPage (UI 전용 컴포넌트)
```

---

## 기술 스택

- React (Vite)
- React Router v6
- Tailwind CSS
- localStorage (임시 인증/권한 처리)

---

## 설계 의도 요약

- 인증 API가 없어도 **전체 서비스 흐름을 먼저 검증**
- 페이지 책임 분리 (라우팅 / UI / 가드)
- 관리자 기능 확장을 고려한 구조 선행 설계
- 팀 프로젝트 환경에서도 개인 단위로 구조 검증 가능하도록 구성

---

## 향후 확장 계획

- JWT 기반 인증 연동
- 관리자 페이지:
  - 면접 결과 리스트 조회
  - 세션/응시자 단위 필터링
- 사용자 페이지:
  - 과거 면접 결과 목록 조회
- 인증 상태 전역 관리 (Context / Zustand 등)

---

## 상태

🚧 MVP 구조 검증 단계  
👉 기능 추가보다 **구조 안정성**을 우선 확보 중


이를 통해 인증 API가 붙기 전에도  
전체 서비스 흐름을 프론트엔드 단계에서 먼저 검증할 수 있도록 했다.

